<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³• | Chemtrails</title><meta name="keywords" content="éšæœºæ•°"><meta name="author" content="Chemtrails"><meta name="copyright" content="Chemtrails"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³•"><meta name="application-name" content="å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³•"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="bookmark" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="192x192" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="512x512" href="/img/siteicon/apple-touch-icon.png"><link rel="apple-touch-startup-image" media="screen and (device-width:320px) and (device-height:568px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_1136x640.png"><link rel="apple-touch-startup-image" media="screen and (device-width:320px) and (device-height:568px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_640x1136.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2688x1242.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_1792x828.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_1125x2436.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_828x1792.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2436x1125.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:736px) and (-webkit-device-pixel-ratio:3) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_1242x2208.png"><link rel="apple-touch-startup-image" media="screen and (device-width:414px) and (device-height:736px) and (-webkit-device-pixel-ratio:3) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2208x1242.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:667px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_1334x750.png"><link rel="apple-touch-startup-image" media="screen and (device-width:375px) and (device-height:667px) and (-webkit-device-pixel-ratio:2) and (orientation:portrait)" href="/img/siteicon/splashIcons/icon_750x1334.png"><link rel="apple-touch-startup-image" media="screen and (device-width:1024px) and (device-height:1366px) and (-webkit-device-pixel-ratio:2) and (orientation:landscape)" href="/img/siteicon/splashIcons/icon_2732x2048.png"><meta name="description" content="MT19937ç®—æ³•è¿™é‡Œå­¦ä¹ ä¸€ç§æ–°çš„ç®—æ³•ï¼šæ¢…æ£®æ—‹è½¬ç®—æ³•ï¼ˆMersenne Twisterï¼‰ï¼Œäº§ç”Ÿéšæœºæ•°çš„é€Ÿåº¦å¿«ï¼Œå‘¨æœŸé•¿ï¼Œå‘¨æœŸå¯ä»¥è¾¾åˆ°$2^{19937}-1$ã€‚ ç‰¹ç‚¹ï¼šäº§ç”Ÿ32ä½æ•´æ•°åºåˆ—ï¼Œèƒ½åœ¨$1â‰¤kâ‰¤623$çš„ç»´åº¦ä¹‹é—´å‡ç­‰åˆ†å¸ƒã€‚  pythonçš„randomåº“çš„å‡½æ•°getrandbits()å°±æ˜¯åˆ©ç”¨äº†MT19937ç®—æ³•ï¼Œå‡½æ•°getrandbits(32)å°±æ˜¯ç”Ÿæˆ32ä½éšæœºæ•°ã€‚  ä¸‹é¢æ˜¯MT1993">
<meta property="og:type" content="article">
<meta property="og:title" content="å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³•">
<meta property="og:url" content="http://example.com/2023/03/26/%E5%91%A8%E5%88%86%E4%BA%AB1%EF%BC%9AMT19937/index.html">
<meta property="og:site_name" content="Chemtrails">
<meta property="og:description" content="MT19937ç®—æ³•è¿™é‡Œå­¦ä¹ ä¸€ç§æ–°çš„ç®—æ³•ï¼šæ¢…æ£®æ—‹è½¬ç®—æ³•ï¼ˆMersenne Twisterï¼‰ï¼Œäº§ç”Ÿéšæœºæ•°çš„é€Ÿåº¦å¿«ï¼Œå‘¨æœŸé•¿ï¼Œå‘¨æœŸå¯ä»¥è¾¾åˆ°$2^{19937}-1$ã€‚ ç‰¹ç‚¹ï¼šäº§ç”Ÿ32ä½æ•´æ•°åºåˆ—ï¼Œèƒ½åœ¨$1â‰¤kâ‰¤623$çš„ç»´åº¦ä¹‹é—´å‡ç­‰åˆ†å¸ƒã€‚  pythonçš„randomåº“çš„å‡½æ•°getrandbits()å°±æ˜¯åˆ©ç”¨äº†MT19937ç®—æ³•ï¼Œå‡½æ•°getrandbits(32)å°±æ˜¯ç”Ÿæˆ32ä½éšæœºæ•°ã€‚  ä¸‹é¢æ˜¯MT1993">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/03/26/ONDCnTxKoJB1ka4.png">
<meta property="article:published_time" content="2023-03-26T12:01:40.000Z">
<meta property="article:modified_time" content="2023-05-07T12:08:16.000Z">
<meta property="article:author" content="Chemtrails">
<meta property="article:tag" content="éšæœºæ•°">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/03/26/ONDCnTxKoJB1ka4.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/03/26/%E5%91%A8%E5%88%86%E4%BA%AB1%EF%BC%9AMT19937/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.elemecdn.com/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  navMusic: true,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://npm.elemecdn.com/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³•',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-07 20:08:16'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/"><div class="title">Chemtrails</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><center id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></center></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child" style="left:17px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢ğŸ”"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> æœç´¢</span></a></div><div class="nav-button" id="darkmode_navswitch"><a class="darkmode_switchbutton" type="button" href="javascript:void(0);" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" onclick="rm.switchDarkMode()"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke" style="font-size: 1.3rem"></i></a></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³•</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-03-26T12:01:40.000Z" title="å‘è¡¨äº 2023-03-26 20:01:40">2023-03-26</time><span class="post-meta-separator">|</span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-05-07T12:08:16.000Z" title="æ›´æ–°äº 2023-05-07 20:08:16">2023-05-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Crypto/">Crypto</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">4k</span><span class="post-meta-separator">|</span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>20åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="å‘¨åˆ†äº«1ï¼šMT19937ç®—æ³•"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="MT19937ç®—æ³•"><a href="#MT19937ç®—æ³•" class="headerlink" title="MT19937ç®—æ³•"></a>MT19937ç®—æ³•</h1><p>è¿™é‡Œå­¦ä¹ ä¸€ç§æ–°çš„ç®—æ³•ï¼šæ¢…æ£®æ—‹è½¬ç®—æ³•ï¼ˆ<strong>Mersenne Twister</strong>ï¼‰ï¼Œäº§ç”Ÿéšæœºæ•°çš„é€Ÿåº¦å¿«ï¼Œå‘¨æœŸé•¿ï¼Œå‘¨æœŸå¯ä»¥è¾¾åˆ°$2^{19937}-1$ã€‚</p>
<p>ç‰¹ç‚¹ï¼šäº§ç”Ÿ<strong>32ä½</strong>æ•´æ•°åºåˆ—ï¼Œèƒ½åœ¨$1â‰¤kâ‰¤623$çš„ç»´åº¦ä¹‹é—´å‡ç­‰åˆ†å¸ƒã€‚</p>
<blockquote>
<p>pythonçš„randomåº“çš„å‡½æ•°<code>getrandbits()</code>å°±æ˜¯åˆ©ç”¨äº†MT19937ç®—æ³•ï¼Œå‡½æ•°<code>getrandbits(32)</code>å°±æ˜¯ç”Ÿæˆ32ä½éšæœºæ•°ã€‚</p>
</blockquote>
<p>ä¸‹é¢æ˜¯MT19937-32çš„ç”Ÿæˆä»£ç ï¼š</p>
<blockquote>
<p><code>__init__</code>å¯ä»¥æ„ä¸ºinitializeï¼ˆåˆå§‹åŒ–ï¼‰ï¼Œç†è§£ä¸ºå®ä¾‹åŒ–å‡ºæŸä¸ªç±»çš„å¯¹è±¡æ—¶è°ƒç”¨çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¾‹å¦‚å®šä¹‰ä¸€äº›å˜é‡ä¾›åé¢çš„å…¶å®ƒæ–¹æ³•ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›ä¸€ä¸ª32ä½äºŒè¿›åˆ¶ä»£ç </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_int32</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(<span class="number">0xFFFFFFFF</span> &amp; x)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MT19937</span>:</span><br><span class="line">    <span class="comment"># æ ¹æ®seedåˆå§‹åŒ–624çš„stateï¼Œseedä¸ºç§å­</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, seed</span>):</span><br><span class="line">        self.mt = [<span class="number">0</span>] * <span class="number">624</span></span><br><span class="line">        self.mt[<span class="number">0</span>] = seed</span><br><span class="line">        self.mti = <span class="number">0</span></span><br><span class="line">        <span class="comment"># 623ä¸ªå¾ªç¯ä¸ºé€šè¿‡stateä¹‹é—´çš„å˜æ¢æ±‚å‡ºå‰©ä¸‹çš„stateå—</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">624</span>):</span><br><span class="line">            self.mt[i] = _int32(<span class="number">1812433253</span> * (self.mt[i - <span class="number">1</span>] ^ self.mt[i - <span class="number">1</span>] &gt;&gt; <span class="number">30</span>) + i)</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># æå–ä¼ªéšæœºæ•°</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">extract_number</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.mti == <span class="number">0</span>:</span><br><span class="line">            self.twist()</span><br><span class="line">        y = self.mt[self.mti]</span><br><span class="line">        y = y ^ y &gt;&gt; <span class="number">11</span></span><br><span class="line">        y = y ^ y &lt;&lt; <span class="number">7</span> &amp; <span class="number">2636928640</span></span><br><span class="line">        y = y ^ y &lt;&lt; <span class="number">15</span> &amp; <span class="number">4022730752</span></span><br><span class="line">        y = y ^ y &gt;&gt; <span class="number">18</span></span><br><span class="line">        self.mti = (self.mti + <span class="number">1</span>) % <span class="number">624</span></span><br><span class="line">        <span class="keyword">return</span> _int32(y)</span><br><span class="line"> </span><br><span class="line">    <span class="comment"># å¯¹stateè¿›è¡Œæ—‹è½¬æ±‚å¾—æ–°çš„624ä¸ªä¸åŒçš„stateå€¼è¿›å…¥æ–°å¾ªç¯</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">twist</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">624</span>):</span><br><span class="line">            y = _int32((self.mt[i] &amp; <span class="number">0x80000000</span>) + (self.mt[(i + <span class="number">1</span>) % <span class="number">624</span>] &amp; <span class="number">0x7fffffff</span>))</span><br><span class="line">            self.mt[i] = (y &gt;&gt; <span class="number">1</span>) ^ self.mt[(i + <span class="number">397</span>) % <span class="number">624</span>]</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> y % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">                self.mt[i] = self.mt[i] ^ <span class="number">0x9908b0df</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç§å­ï¼šä»¥ä¸€ä¸ªçœŸéšæœºæ•°ï¼ˆç§å­ï¼‰ä½œä¸ºåˆå§‹æ¡ä»¶ï¼Œç„¶åç”¨ä¸€å®šçš„ç®—æ³•ä¸åœè¿­ä»£äº§ç”Ÿä¼ªéšæœºæ•°ã€‚</p>
</blockquote>
<p>æ³¨æ„åˆ°MTç®—æ³•ç”Ÿæˆçš„æ˜¯32ä½éšæœºæ•°åºåˆ—ã€‚é¦–å…ˆéœ€è¦ä¸€ä¸ªç§å­ï¼Œç„¶åç”Ÿæˆæœ‰624ä¸ª32ä½æ•°ç»„çš„çŠ¶æ€æ•°ç»„ï¼Œç„¶åè¿›è¡Œä¸€æ¬¡æ—‹è½¬ï¼Œè¾“å‡º624ä¸ªéšæœºçš„int32ï¼Œé‡å¤æ‰§è¡Œã€‚</p>
<h2 id="éšæœºæ•°ç”Ÿæˆæ–¹å¼"><a href="#éšæœºæ•°ç”Ÿæˆæ–¹å¼" class="headerlink" title="éšæœºæ•°ç”Ÿæˆæ–¹å¼"></a>éšæœºæ•°ç”Ÿæˆæ–¹å¼</h2><p>é’ˆå¯¹ä¸æ˜¯32ä½ç­‰æƒ…å†µçš„éšæœºæ•°çš„ç”Ÿæˆï¼Œå®ƒçš„ç”Ÿæˆæ–¹å¼ä¹Ÿå­˜åœ¨ç€ä¸€äº›è§„å¾‹ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">33</span>):</span><br><span class="line">    <span class="comment">#ç¡®å®šå¥½ç”Ÿæˆéšæœºæ•°çš„ç§å­ï¼Œå¯ä»¥ä¿è¯ç”Ÿæˆéšæœºæ•°çš„é¡ºåºä¸€è‡´</span></span><br><span class="line">    seed(<span class="number">64</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">bin</span>(getrandbits(i))[<span class="number">2</span>:],i)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0 1</span></span><br><span class="line"><span class="string">1 2</span></span><br><span class="line"><span class="string">11 3</span></span><br><span class="line"><span class="string">111 4</span></span><br><span class="line"><span class="string">1111 5</span></span><br><span class="line"><span class="string">11110 6</span></span><br><span class="line"><span class="string">111100 7</span></span><br><span class="line"><span class="string">1111001 8</span></span><br><span class="line"><span class="string">11110011 9</span></span><br><span class="line"><span class="string">111100111 10</span></span><br><span class="line"><span class="string">1111001111 11</span></span><br><span class="line"><span class="string">11110011110 12</span></span><br><span class="line"><span class="string">111100111100 13</span></span><br><span class="line"><span class="string">1111001111001 14</span></span><br><span class="line"><span class="string">11110011110010 15</span></span><br><span class="line"><span class="string">111100111100101 16</span></span><br><span class="line"><span class="string">1111001111001011 17</span></span><br><span class="line"><span class="string">11110011110010110 18</span></span><br><span class="line"><span class="string">111100111100101100 19</span></span><br><span class="line"><span class="string">1111001111001011000 20</span></span><br><span class="line"><span class="string">11110011110010110000 21</span></span><br><span class="line"><span class="string">111100111100101100000 22</span></span><br><span class="line"><span class="string">1111001111001011000001 23</span></span><br><span class="line"><span class="string">11110011110010110000010 24</span></span><br><span class="line"><span class="string">111100111100101100000100 25</span></span><br><span class="line"><span class="string">1111001111001011000001000 26</span></span><br><span class="line"><span class="string">11110011110010110000010000 27</span></span><br><span class="line"><span class="string">111100111100101100000100001 28</span></span><br><span class="line"><span class="string">1111001111001011000001000011 29</span></span><br><span class="line"><span class="string">11110011110010110000010000110 30</span></span><br><span class="line"><span class="string">111100111100101100000100001100 31</span></span><br><span class="line"><span class="string">1111001111001011000001000011000 32</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥64ä½œä¸ºç§å­æ¥ç”Ÿæˆ1-32ä½çš„éšæœºæ•°ï¼Œç”±äºæ¯æ¬¡ç”Ÿæˆä¹‹å‰éƒ½é‡ç½®ä¸€éç§å­ï¼Œæ‰€ä»¥ä¿è¯æ¥ä¸‹æ¥ç”Ÿæˆçš„éšæœºæ•°éƒ½æ˜¯ç›¸åŒå˜æ¢åçš„é¦–ä¸ª32ä½éšæœºæ•°ï¼Œå¯ä»¥çœ‹åˆ°å¯¹äºä¸æ»¡è¶³32ä½çš„éšæœºæ•°ï¼Œç”Ÿæˆæ—¶ä»32ä½çš„åºåˆ—çš„é«˜ä½å¾€ä½ä½æˆªå–å¯¹åº”çš„ä½æ•°ä½œä¸ºè¿™ä¸ªä½æ•°çš„éšæœºæ•°ã€‚å‘ç°å®é™…ä¸Šè¿™é‡Œç”Ÿæˆçš„æ¯ä¸ªéšæœºæ•°éƒ½è¦æ¯”ä½æ•°å°‘1ä½ï¼Œæ˜¯å› ä¸ºåœ¨æœ€å‰é¢çœç•¥äº†è¿™è½®åºåˆ—çš„é¦–ä½0ï¼Œè¿™ä¸ª32ä½éšæœºæ•°åº”è¯¥æ˜¯01111001111001011000001000011000ã€‚</p>
<p>MT19937ç®—æ³•æ˜¯å¦‚ä½•ç”Ÿæˆæ›´é«˜ä½çš„éšæœºæ•°çš„å‘¢ï¼Ÿæ ¹æ®ä¸Šé¢çš„ç†è®ºç»§ç»­æ‰©å¤§ç”Ÿæˆä½æ•°ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">65</span>):</span><br><span class="line">    seed(<span class="number">64</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">bin</span>(getrandbits(i))[<span class="number">2</span>:],i)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0 1</span></span><br><span class="line"><span class="string">1 2</span></span><br><span class="line"><span class="string">11 3</span></span><br><span class="line"><span class="string">111 4</span></span><br><span class="line"><span class="string">1111 5</span></span><br><span class="line"><span class="string">11110 6</span></span><br><span class="line"><span class="string">111100 7</span></span><br><span class="line"><span class="string">1111001 8</span></span><br><span class="line"><span class="string">11110011 9</span></span><br><span class="line"><span class="string">111100111 10</span></span><br><span class="line"><span class="string">1111001111 11</span></span><br><span class="line"><span class="string">11110011110 12</span></span><br><span class="line"><span class="string">111100111100 13</span></span><br><span class="line"><span class="string">1111001111001 14</span></span><br><span class="line"><span class="string">11110011110010 15</span></span><br><span class="line"><span class="string">111100111100101 16</span></span><br><span class="line"><span class="string">1111001111001011 17</span></span><br><span class="line"><span class="string">11110011110010110 18</span></span><br><span class="line"><span class="string">111100111100101100 19</span></span><br><span class="line"><span class="string">1111001111001011000 20</span></span><br><span class="line"><span class="string">11110011110010110000 21</span></span><br><span class="line"><span class="string">111100111100101100000 22</span></span><br><span class="line"><span class="string">1111001111001011000001 23</span></span><br><span class="line"><span class="string">11110011110010110000010 24</span></span><br><span class="line"><span class="string">111100111100101100000100 25</span></span><br><span class="line"><span class="string">1111001111001011000001000 26</span></span><br><span class="line"><span class="string">11110011110010110000010000 27</span></span><br><span class="line"><span class="string">111100111100101100000100001 28</span></span><br><span class="line"><span class="string">1111001111001011000001000011 29</span></span><br><span class="line"><span class="string">11110011110010110000010000110 30</span></span><br><span class="line"><span class="string">111100111100101100000100001100 31</span></span><br><span class="line"><span class="string">1111001111001011000001000011000 32</span></span><br><span class="line"><span class="string">1111001111001011000001000011000 33</span></span><br><span class="line"><span class="string">1111001111001011000001000011000 34</span></span><br><span class="line"><span class="string">1111001111001011000001000011000 35</span></span><br><span class="line"><span class="string">101111001111001011000001000011000 36</span></span><br><span class="line"><span class="string">1101111001111001011000001000011000 37</span></span><br><span class="line"><span class="string">11101111001111001011000001000011000 38</span></span><br><span class="line"><span class="string">111101111001111001011000001000011000 39</span></span><br><span class="line"><span class="string">1111101111001111001011000001000011000 40</span></span><br><span class="line"><span class="string">11111101111001111001011000001000011000 41</span></span><br><span class="line"><span class="string">111111101111001111001011000001000011000 42</span></span><br><span class="line"><span class="string">1111111101111001111001011000001000011000 43</span></span><br><span class="line"><span class="string">11111111101111001111001011000001000011000 44</span></span><br><span class="line"><span class="string">111111111001111001111001011000001000011000 45</span></span><br><span class="line"><span class="string">1111111110101111001111001011000001000011000 46</span></span><br><span class="line"><span class="string">11111111101101111001111001011000001000011000 47</span></span><br><span class="line"><span class="string">111111111011001111001111001011000001000011000 48</span></span><br><span class="line"><span class="string">1111111110110001111001111001011000001000011000 49</span></span><br><span class="line"><span class="string">11111111101100001111001111001011000001000011000 50</span></span><br><span class="line"><span class="string">111111111011000101111001111001011000001000011000 51</span></span><br><span class="line"><span class="string">1111111110110001101111001111001011000001000011000 52</span></span><br><span class="line"><span class="string">11111111101100011101111001111001011000001000011000 53</span></span><br><span class="line"><span class="string">111111111011000111101111001111001011000001000011000 54</span></span><br><span class="line"><span class="string">1111111110110001111001111001111001011000001000011000 55</span></span><br><span class="line"><span class="string">11111111101100011110001111001111001011000001000011000 56</span></span><br><span class="line"><span class="string">111111111011000111100001111001111001011000001000011000 57</span></span><br><span class="line"><span class="string">1111111110110001111000001111001111001011000001000011000 58</span></span><br><span class="line"><span class="string">11111111101100011110000001111001111001011000001000011000 59</span></span><br><span class="line"><span class="string">111111111011000111100000001111001111001011000001000011000 60</span></span><br><span class="line"><span class="string">1111111110110001111000000001111001111001011000001000011000 61</span></span><br><span class="line"><span class="string">11111111101100011110000000001111001111001011000001000011000 62</span></span><br><span class="line"><span class="string">111111111011000111100000000001111001111001011000001000011000 63</span></span><br><span class="line"><span class="string">1111111110110001111000000000101111001111001011000001000011000 64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç›´æ¥æŒ‘ä¸­é—´å‡ è¡Œæ¥çœ‹ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1111001111001011000001000011</span> <span class="number">29</span></span><br><span class="line"><span class="number">11110011110010110000010000110</span> <span class="number">30</span></span><br><span class="line"><span class="number">111100111100101100000100001100</span> <span class="number">31</span></span><br><span class="line"><span class="number">1111001111001011000001000011000</span> <span class="number">32</span></span><br><span class="line"><span class="number">1111001111001011000001000011000</span> <span class="number">33</span></span><br><span class="line"><span class="number">1111001111001011000001000011000</span> <span class="number">34</span></span><br><span class="line"><span class="number">1111001111001011000001000011000</span> <span class="number">35</span></span><br><span class="line"><span class="number">101111001111001011000001000011000</span> <span class="number">36</span></span><br><span class="line"><span class="number">1101111001111001011000001000011000</span> <span class="number">37</span></span><br><span class="line"><span class="number">11101111001111001011000001000011000</span> <span class="number">38</span></span><br></pre></td></tr></table></figure>
<p>äº‹å…ˆçŸ¥é“ç¬¬ä¸€ä¸ª32ä½åºåˆ—çš„é¦–ä½ä¸º0ï¼Œæ ¹æ®ä¹‹å‰ç”Ÿæˆç¬¬ä¸€ç»„åºåˆ—çš„æ–¹å¼å¯ä»¥æ¨æµ‹ç¬¬äºŒç»„ä¹Ÿåº”è¯¥æ˜¯é«˜ä½å¾€ä½ä½æˆªå–å¯¹åº”çš„ä½æ•°ï¼Œè¿™é‡Œç”Ÿæˆ33-35ä½å¡ä½æ²¡æœ‰å¢åŠ ä½æ•°çš„åŸå› æ˜¯ç¬¬äºŒç»„<code>getrandbits(32)</code>åºåˆ—çš„é¦–ä½è¿ç»­ä¸º0ï¼Œåœ¨ç”Ÿæˆ36ä½éšæœºæ•°æ—¶ï¼Œå¾—åˆ°äº†ç¬¬äºŒä¸ªåºåˆ—çš„1åŒæ—¶è¡¥é½äº†ç¬¬ä¸€ä¸ªåºåˆ—çš„é¦–ä½0ï¼Œæ¥ä¸‹æ¥ç»§ç»­è¡¥é½ä½ä½çš„ä½æ•°ï¼Œæœ€ç»ˆå¾—åˆ°64ä½ä¸¤ä¸ªå®Œæ•´çš„åºåˆ—æ—¶è¿™é‡Œåªä¸º61ä½ï¼Œå› ä¸ºç¬¬äºŒä¸ªåºåˆ—å¼€å¤´å­˜åœ¨3ä¸ª0æ²¡æœ‰æ˜¾ç¤ºã€‚</p>
<p>è¿™æ ·å¯ä»¥å¾—çŸ¥64ä½ç”šè‡³æ›´é«˜ä½çš„éšæœºæ•°çš„ç”Ÿæˆæ–¹å¼ï¼šç”Ÿæˆ64ä½éšæœºæ•°æ—¶é¦–å…ˆç”Ÿæˆ2ä¸ª32ä½ï¼Œç¬¬äºŒä¸ªæ•°å·¦ç§»32ä½åŠ ä¸Šç¬¬ä¸€ä¸ªæ•°ï¼Œå¾—åˆ°è¿™ä¸ªéšæœºæ•°ï¼ŒéªŒè¯ä¸€ä¸‹ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"> </span><br><span class="line">random.seed(<span class="number">1</span>)</span><br><span class="line">a,b=random.getrandbits(<span class="number">32</span>),random.getrandbits(<span class="number">32</span>)</span><br><span class="line"><span class="built_in">print</span>((b&lt;&lt;<span class="number">32</span>)+a)<span class="comment">#10499958131665514997</span></span><br><span class="line"></span><br><span class="line">random.seed(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(random.getrandbits(<span class="number">64</span>))<span class="comment">#10499958131665514997</span></span><br></pre></td></tr></table></figure>
<p>æ­¤å¤–ï¼Œä¹Ÿèƒ½å‘ç°åˆ©ç”¨<code>getrandbits(32)</code>ç”Ÿæˆçš„éšæœºæ•°ï¼Œä¸æ˜¯æ€»èƒ½ç”ŸæˆçœŸæ­£çš„32ä½éšæœºæ•°ï¼Œå› ä¸ºåºåˆ—çš„æœ€é«˜ä½ä¸ç¡®å®šæ˜¯å¦ä¸º0ï¼Œä¸º0çš„è¯ä¹Ÿä¸çŸ¥é“æœ‰å‡ ä¸ª0ï¼Œæ‰€ä»¥ä¹Ÿèƒ½å¾—åˆ°31,30,29ç”šè‡³æ›´ä½ä½çš„éšæœºæ•°ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    a=<span class="built_in">int</span>(random.getrandbits(<span class="number">32</span>))</span><br><span class="line">    <span class="keyword">if</span> a.bit_length()!=<span class="number">32</span>:</span><br><span class="line">        <span class="built_in">print</span>(a.bit_length())</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢æ¥çœ‹å‡ é“å®é™…çš„é¢˜ç›®æ¥åŠ æ·±ä¸€ä¸‹å¯¹éšæœºæ•°çš„ç†è§£ï¼š</p>
<h1 id="GKCTF-2021-Random"><a href="#GKCTF-2021-Random" class="headerlink" title="[GKCTF 2021]Random"></a>[GKCTF 2021]Random</h1><p>è¿™é“é¢˜å°±åˆ©ç”¨äº†MT19937éšæœºæ•°çš„ç ´è§£ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_mask</span>():</span><br><span class="line">    file = <span class="built_in">open</span>(<span class="string">&quot;random.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">104</span>):</span><br><span class="line">        file.write(<span class="built_in">str</span>(random.getrandbits(<span class="number">32</span>))+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        file.write(<span class="built_in">str</span>(random.getrandbits(<span class="number">64</span>))+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">        file.write(<span class="built_in">str</span>(random.getrandbits(<span class="number">96</span>))+<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    file.close()</span><br><span class="line">get_mask()</span><br><span class="line">flag = md5(<span class="built_in">str</span>(random.getrandbits(<span class="number">32</span>)).encode()).hexdigest()</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2584323193</span></span><br><span class="line"><span class="number">1099154419438958164</span></span><br><span class="line"><span class="number">35367876945070316311325317953</span></span><br><span class="line"><span class="number">481304047</span></span><br><span class="line"><span class="number">12782770146993102006</span></span><br><span class="line"><span class="number">24789628292419559503661788402</span></span><br><span class="line"><span class="number">2776391832</span></span><br><span class="line"><span class="number">9046887565683900291</span></span><br><span class="line"><span class="number">50006261016517120573540241998</span></span><br><span class="line"><span class="number">4167723109</span></span><br><span class="line"><span class="number">8540277546428614473</span></span><br><span class="line"><span class="number">5932047064656933473553742683</span></span><br><span class="line"><span class="comment">#å…±104ç»„ï¼Œæ¯ç»„3ä¸ªæ•°æ®</span></span><br></pre></td></tr></table></figure>
<p>é¢˜ç›®éšæœºæ•°å…¨éƒ¨ä¸º32ä½æ•´æ•°åºåˆ—äº§ç”Ÿï¼Œ32ä½éœ€è¦1ä¸ªéšæœºæ•°ï¼Œ64ä½éœ€è¦2ä¸ªéšæœºæ•°ï¼Œ96ä½éœ€è¦3ä¸ªéšæœºæ•°ï¼Œé¢˜ç›®æ‰€ç»™ä¿¡æ¯æ€»å…±éœ€è¦624ä¸ªéšæœºæ•°ï¼Œå°±å¯¹åº”äº†stateå—çš„ä¸ªæ•°ï¼Œæ‰€ä»¥éœ€è¦æ¨ç®—å‡º624ä¸ªstateå—çš„çŠ¶æ€ï¼Œè¿›è€Œæ¨å‡ºæ¥ä¸‹æ¥äº§ç”Ÿçš„éšæœºæ•°ï¼Œå¾—åˆ°flagã€‚</p>
<blockquote>
<p>randcrackåº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç›´æ¥å¾—åˆ°åŸå§‹çš„stateã€‚</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥æŠŠç»™æˆ‘ä»¬çš„è¿™äº›æ•°å…¨éƒ¨è½¬ä¸º32ä½éšæœºæ•°ï¼Œå…±624ä¸ªï¼Œå¯ä»¥åˆ©ç”¨ä¹‹å‰å­¦è¿‡çš„ä½è¿ç®—ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;random.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f=f.readlines()</span><br><span class="line">num=[]</span><br><span class="line">num1=[<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> f]</span><br><span class="line">t=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> num1:</span><br><span class="line">    <span class="keyword">if</span> t%<span class="number">3</span>==<span class="number">0</span>:</span><br><span class="line">        num.append(i)</span><br><span class="line">    <span class="keyword">elif</span> t%<span class="number">3</span>==<span class="number">1</span>:</span><br><span class="line">        num.append(i&amp;(<span class="number">2</span>**<span class="number">32</span>-<span class="number">1</span>))</span><br><span class="line">        num.append(i&gt;&gt;<span class="number">32</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        num.append(i&amp;(<span class="number">2</span>**<span class="number">32</span>-<span class="number">1</span>))</span><br><span class="line">        num.append(i&gt;&gt;<span class="number">32</span> &amp; (<span class="number">2</span>**<span class="number">32</span>-<span class="number">1</span>))</span><br><span class="line">        num.append(i&gt;&gt;<span class="number">64</span>)</span><br><span class="line">    t+=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>å¾—åˆ°äº†è¿™ç»„éšæœºæ•°ä¹‹åå¯ä»¥åˆ©ç”¨randcrackç›´æ¥å¾—åˆ°flagï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">from</span> randcrack <span class="keyword">import</span> RandCrack</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;random.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f=f.readlines()</span><br><span class="line">num=[]</span><br><span class="line">num1=[<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> f]</span><br><span class="line">t=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> num1:</span><br><span class="line">    <span class="keyword">if</span> t%<span class="number">3</span>==<span class="number">0</span>:</span><br><span class="line">        num.append(i)</span><br><span class="line">    <span class="keyword">elif</span> t%<span class="number">3</span>==<span class="number">1</span>:</span><br><span class="line">        num.append(i&amp;(<span class="number">2</span>**<span class="number">32</span>-<span class="number">1</span>))</span><br><span class="line">        num.append(i&gt;&gt;<span class="number">32</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        num.append(i&amp;(<span class="number">2</span>**<span class="number">32</span>-<span class="number">1</span>))</span><br><span class="line">        num.append(i&gt;&gt;<span class="number">32</span> &amp; (<span class="number">2</span>**<span class="number">32</span>-<span class="number">1</span>))</span><br><span class="line">        num.append(i&gt;&gt;<span class="number">64</span>)</span><br><span class="line">    t+=<span class="number">1</span></span><br><span class="line">r = RandCrack()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> num:</span><br><span class="line">    r.submit(i)</span><br><span class="line">flag = r.predict_getrandbits(<span class="number">32</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;flag&#123;&#x27;</span>+hashlib.md5(<span class="built_in">str</span>(flag).encode()).hexdigest()+<span class="string">&quot;&#125;&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œä¸ç”¨randcrackåº“ç›´æ¥ç”¨randomåº“æ¨ä¹Ÿå¯ä»¥ï¼Œä»£ç å°±æ˜¯ç›´æ¥åˆ©ç”¨MTç®—æ³•æ¥æ¨stateï¼Œæ‡’å¾—å»ç ”ç©¶ç›´æ¥æ”¾ä¸€ä¸ªå¤§ä½¬å†™å¥½çš„å¾—äº†ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> Random</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">invert_right</span>(<span class="params">m,l,val=<span class="string">&#x27;&#x27;</span></span>):</span><br><span class="line">    length = <span class="number">32</span></span><br><span class="line">    mx = <span class="number">0xffffffff</span></span><br><span class="line">    <span class="keyword">if</span> val == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        val = mx</span><br><span class="line">    i,res = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i*l&lt;length:</span><br><span class="line">        mask = (mx&lt;&lt;(length-l)&amp;mx)&gt;&gt;i*l</span><br><span class="line">        tmp = m &amp; mask</span><br><span class="line">        m = m^tmp&gt;&gt;l&amp;val</span><br><span class="line">        res += tmp</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">invert_left</span>(<span class="params">m,l,val</span>):</span><br><span class="line">    length = <span class="number">32</span></span><br><span class="line">    mx = <span class="number">0xffffffff</span></span><br><span class="line">    i,res = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i*l &lt; length:</span><br><span class="line">        mask = (mx&gt;&gt;(length-l)&amp;mx)&lt;&lt;i*l</span><br><span class="line">        tmp = m &amp; mask</span><br><span class="line">        m ^= tmp&lt;&lt;l&amp;val</span><br><span class="line">        res |= tmp</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">invert_temper</span>(<span class="params">m</span>):</span><br><span class="line">    m = invert_right(m,<span class="number">18</span>)</span><br><span class="line">    m = invert_left(m,<span class="number">15</span>,<span class="number">4022730752</span>)</span><br><span class="line">    m = invert_left(m,<span class="number">7</span>,<span class="number">2636928640</span>)</span><br><span class="line">    m = invert_right(m,<span class="number">11</span>)</span><br><span class="line">    <span class="keyword">return</span> m</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clone_mt</span>(<span class="params">record</span>):</span><br><span class="line">    state = [invert_temper(i) <span class="keyword">for</span> i <span class="keyword">in</span> record]</span><br><span class="line">    gen = Random()</span><br><span class="line">    gen.setstate((<span class="number">3</span>,<span class="built_in">tuple</span>(state+[<span class="number">0</span>]),<span class="literal">None</span>))</span><br><span class="line">    <span class="keyword">return</span> gen</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;random.txt&quot;</span>,<span class="string">&#x27;r&#x27;</span>).readlines()</span><br><span class="line">prng = []</span><br><span class="line">j=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">    i = i.strip(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">int</span>(i).bit_length())</span><br><span class="line">    <span class="comment">#åˆ†ç¦»éšæœºæ•°</span></span><br><span class="line">    <span class="keyword">if</span>(j%<span class="number">3</span>==<span class="number">0</span>):</span><br><span class="line">        prng.append(<span class="built_in">int</span>(i))</span><br><span class="line">    <span class="keyword">elif</span>(j%<span class="number">3</span>==<span class="number">1</span>):</span><br><span class="line">        prng.append(<span class="built_in">int</span>(i)&amp; (<span class="number">2</span> ** <span class="number">32</span> - <span class="number">1</span>))</span><br><span class="line">        prng.append(<span class="built_in">int</span>(i)&gt;&gt; <span class="number">32</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        prng.append(<span class="built_in">int</span>(i)&amp; (<span class="number">2</span> ** <span class="number">32</span> - <span class="number">1</span>))</span><br><span class="line">        prng.append(<span class="built_in">int</span>(i)&amp; (<span class="number">2</span> ** <span class="number">64</span> - <span class="number">1</span>) &gt;&gt; <span class="number">32</span>)</span><br><span class="line">        prng.append(<span class="built_in">int</span>(i)&gt;&gt;<span class="number">64</span>)</span><br><span class="line">    j+=<span class="number">1</span></span><br><span class="line">g = clone_mt(prng[:<span class="number">624</span>])</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">624</span>):</span><br><span class="line">    g.getrandbits(<span class="number">32</span>)<span class="comment">#äº§ç”Ÿå‰624ä¸ªéšæœºæ•°ï¼Œè®©stateçŠ¶æ€åˆ°ç”Ÿæˆflagå‰</span></span><br><span class="line">key = g.getrandbits(<span class="number">32</span>)</span><br><span class="line"><span class="built_in">print</span>(key)</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line">flag = md5(<span class="built_in">str</span>(key).encode()).hexdigest()</span><br><span class="line"><span class="built_in">print</span>(flag)</span><br><span class="line"><span class="comment">#14c71fec812b754b2061a35a4f6d8421</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>PRNG(pseudorandom number generator)ä¼ªéšæœºæ•°ç”Ÿæˆå™¨æ˜¯æŒ‡é€šè¿‡ç‰¹å®šç®—æ³•ç”Ÿæˆä¸€ç³»åˆ—çš„æ•°å­—ï¼Œä½¿å¾—è¿™ä¸€ç³»åˆ—çš„æ•°å­—çœ‹èµ·æ¥æ˜¯éšæœºçš„ï¼Œä½†æ˜¯å®é™…æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥å«ä¼ªéšæœºæ•°ã€‚</p>
</blockquote>
<h1 id="HGAME-2022-week4-PRNG"><a href="#HGAME-2022-week4-PRNG" class="headerlink" title="[HGAME 2022 week4]PRNG"></a>[HGAME 2022 week4]PRNG</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randrange</span><br><span class="line"><span class="keyword">from</span> libnum <span class="keyword">import</span> s2n</span><br><span class="line"><span class="keyword">from</span> secret <span class="keyword">import</span> flag</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PRNG</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, seed = <span class="number">0</span></span>):</span><br><span class="line">        self.__register = [<span class="number">0</span>] * <span class="number">624</span></span><br><span class="line">        self.__state = <span class="number">0</span></span><br><span class="line">        self.__register[<span class="number">0</span>] = seed</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">624</span>):</span><br><span class="line">            prev = self.__register[i - <span class="number">1</span>]</span><br><span class="line">            temp = <span class="number">0x6c078965</span> * (prev ^ (prev &gt;&gt; <span class="number">30</span>)) + i</span><br><span class="line">            self.__register[i] = temp &amp; <span class="number">0xffffffff</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.__state == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">624</span>):</span><br><span class="line">                y = (self.__register[i] &amp; <span class="number">0x80000000</span>) + (self.__register[(i + <span class="number">1</span>) % <span class="number">624</span>] &amp; <span class="number">0x7fffffff</span>)</span><br><span class="line">                self.__register[i] = self.__register[(i + <span class="number">397</span>) % <span class="number">624</span>] ^ (y &gt;&gt; <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">if</span> y % <span class="number">2</span>:</span><br><span class="line">                    self.__register[i] ^= <span class="number">0x9908b0df</span></span><br><span class="line">        y = self.__register[self.__state]</span><br><span class="line">        y = y ^ (y &gt;&gt; <span class="number">11</span>)</span><br><span class="line">        y = y ^ (y &lt;&lt; <span class="number">7</span>) &amp; <span class="number">0x9d2c5680</span></span><br><span class="line">        y = y ^ (y &lt;&lt; <span class="number">15</span>) &amp; <span class="number">0xefc60000</span></span><br><span class="line">        y = y ^ (y &gt;&gt; <span class="number">18</span>)</span><br><span class="line">        self.__state = (self.__state + <span class="number">1</span>) % <span class="number">624</span></span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">load_register</span>(<span class="params">self,register</span>):</span><br><span class="line">        self.__register = register</span><br><span class="line"></span><br><span class="line">mt = PRNG(randrange(<span class="number">0</span>, <span class="number">1</span> &lt;&lt; <span class="number">32</span>))</span><br><span class="line"><span class="built_in">print</span>([mt() <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">624</span>)])</span><br><span class="line"><span class="built_in">print</span>([part ^ mt() <span class="keyword">for</span> part <span class="keyword">in</span> <span class="built_in">map</span>(s2n, re.findall(<span class="string">&quot;.&#123;1,4&#125;&quot;</span>, flag))])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[888058162, 3094055443, 1404990361, 1012543603, 448723884, 2580444236, 201608779, 1062995809, 1348787313, 2980019361, 2245025385, 494977308, 4042503808, 275744301, 406611131, 142226472, 3871761759, 3888795536, 2617489687, 1220227074, 342928858, 3728958896, 1477077966, 1433151407, 1119405037, 330145973, 3547181160, 2123007249, 3739964132, 1794129718, 2739743522, 2291585121, 3013727731, 1536788463, 247633572, 408079265, 3025555185, 1604681922, 2848997116, 3646041955, 1059445774, 2849764176, 2638965889, 1232303180, 759521642, 2257008531, 3932082254, 1052428413, 4017559916, 3505694223, 1418363972, 477751107, 4266295945, 3832138928, 245251422, 1964323108, 2453472918, 3029032760, 323619451, 2548825339, 3410027991, 278143595, 816124107, 245705463, 4173686519, 4100831820, 3599257115, 2274885516, 3954736394, 198254482, 1050449178, 3933150558, 899220021, 597474632, 1823539097, 3340511318, 2144918682, 2310527451, 264391694, 69923676, 3266017310, 3199627722, 4035962745, 932969905, 2832951013, 2182887504, 1374919242, 2978944795, 1840647233, 3510878043, 3250544991, 4255542321, 804377010, 1286980519, 1980427321, 2893246724, 1745353148, 1406140332, 4101848568, 3227434698, 1869729934, 2638181242, 1270111849, 2387910792, 3411542702, 2793303435, 2455337459, 2802808043, 2418872990, 1043274549, 144911746, 2312236858, 780373658, 1527499811, 3402753408, 2617924770, 1659648360, 2714315441, 4202103851, 244677433, 1963258902, 3851363324, 3454195559, 813228826, 3944899734, 3697685234, 1613584167, 1874570879, 1592343033, 4194241173, 551902434, 3460909265, 4122075287, 176665387, 152849760, 3593212904, 952880017, 1793357635, 2052902220, 807859486, 334839380, 3485132343, 2113403566, 3259106798, 1443078482, 2434820318, 1347902400, 2344061487, 141766876, 2641586235, 287277458, 2385094526, 1510128758, 348957861, 2861038633, 1135611795, 4289024199, 1021202791, 2460872523, 3837050794, 4092005952, 52622948, 387056916, 3102913460, 4098715316, 154916530, 2890197932, 1441566957, 2368779800, 271808452, 3566810840, 2227022452, 316480679, 603893066, 2121889912, 4208763743, 3098334580, 721958838, 3848020801, 1029884135, 832405094, 2276817394, 981553190, 246940442, 1069231974, 3275216531, 58945988, 4100121200, 230446475, 2396021649, 4608139, 3468707911, 3249498323, 315898153, 3280797960, 388108494, 1110548082, 2357147660, 2336724751, 4047583630, 2108667879, 2784078579, 1170844412, 3920262445, 3564073655, 590490534, 1645945278, 2487463163, 434409966, 1563546251, 888601967, 1913513318, 1327448740, 2504517969, 304688984, 1443685450, 4040619940, 3601250858, 4097529433, 4260590151, 575843085, 1114360271, 2186035374, 2821388594, 3763206347, 4283149630, 4097168778, 1924538037, 3272064650, 1689166701, 1352331676, 520525342, 2954296222, 2629516330, 3674317458, 231784130, 1930132422, 4169222397, 1638784833, 1245667959, 1253759350, 1154928813, 66021172, 3217915692, 4159785573, 3798512628, 2945489695, 700725579, 3940231312, 1960713279, 3289722468, 2970919839, 1356139680, 1141841193, 629177162, 3696263539, 1084872874, 4294077062, 1115547807, 3421092527, 611575307, 7808529, 2784523837, 1267307982, 1538837032, 4038330055, 3262951566, 3139820067, 1249725729, 757191354, 3025188720, 291705345, 575676661, 3023956263, 1045504889, 205204207, 1777650027, 1956698897, 996147619, 1470431, 2275722398, 2666078800, 470333070, 1306693906, 2968672077, 2476023772, 2645573325, 3939390068, 2874886754, 4226430090, 2290851636, 3707585663, 109770347, 127373916, 815817847, 1565834917, 636869794, 4062053412, 583594822, 3782553071, 3293311273, 2801932604, 2647080862, 1514083254, 3534640458, 342361004, 3266111849, 2157351044, 1851728420, 3412596866, 2793236910, 3758306563, 1799548561, 952631672, 912455646, 2894404493, 2194084105, 119615608, 2071058651, 1524462411, 900936180, 3697554830, 3501838982, 2874465656, 2501478689, 1069024222, 3135689372, 1168458702, 1966524629, 36400028, 2704775319, 4030739700, 3985599923, 2778920518, 2669538325, 1951594393, 795749079, 665593501, 3007338649, 1535343068, 2031873237, 3202423789, 560224943, 1290838890, 2545130826, 695695377, 3048615291, 1957903923, 1986693779, 2594986519, 3396211122, 2625687092, 575329062, 2852671310, 3472799759, 715985207, 1660331651, 958648594, 305711662, 75621441, 548447557, 2473842353, 2110558182, 3321750402, 2415793078, 815198061, 1258834500, 972966677, 3267046345, 2923564883, 518207679, 1662309775, 278933232, 4294256390, 2444117793, 2241879973, 3915962245, 3836532482, 3449260219, 1092128833, 3177300913, 874588042, 1185436845, 2064537788, 364292705, 3802247898, 3122264959, 186651829, 2789447523, 797964681, 897671294, 1504956985, 2294012382, 3916152546, 177325516, 2741945226, 4188655695, 2738134558, 557326292, 1625014790, 2945266389, 1843516240, 644046640, 3853456819, 3456105042, 3467742754, 2885173326, 812088996, 1238970324, 766072156, 2675925963, 1667463511, 2808303112, 1638756770, 260047996, 1117661655, 346883777, 2268712532, 1904918136, 513102466, 1024624509, 2154277089, 4147814745, 3681688842, 2233642964, 3135674550, 1259551210, 3286048484, 4271168802, 4227197378, 3310884772, 2063705584, 791399172, 4069266828, 1511606526, 1047713396, 615906401, 2805111822, 499223767, 740832370, 351782725, 2258776891, 1837046713, 3969757168, 2873152110, 4214869805, 3416771254, 2527945969, 3279116532, 1217038009, 4014402228, 3696705795, 1877774112, 3928347956, 959715122, 1612979629, 4045688071, 2403021083, 424891533, 1887765641, 2090726432, 2897940431, 268403838, 3447542890, 575011346, 2559143209, 532649938, 3625398853, 2077769196, 1598653066, 3104923961, 3594500739, 675029389, 579180583, 2024117612, 1351780728, 654841863, 769835263, 1431012736, 2369300321, 4157341752, 1968305076, 2086919554, 3075265115, 2128974418, 3144501489, 3993066430, 1121959765, 1373765135, 4232964375, 2264170351, 11814235, 1797654983, 3382686935, 2541491040, 3540726136, 1330685654, 4123114026, 2521290625, 3357439706, 3331159097, 2298656231, 3446738535, 290996369, 3020977553, 849241175, 3469792522, 4119898263, 1339695718, 2125209134, 3620160106, 1063375386, 1656465852, 2505508266, 3958528861, 3497875682, 3112358345, 3675237811, 1109625127, 2672368219, 1983461371, 3579663373, 1969195060, 225618775, 653511251, 3508369415, 4127429853, 828877800, 4286770015, 1474706143, 870777512, 804917422, 3913439258, 2433991646, 2742831709, 4289045475, 2899508500, 185462457, 4178107803, 2671443073, 2701796854, 1170522896, 1599880638, 1410722361, 3977867960, 1263177666, 2159508450, 2704509681, 1540819416, 1836499452, 1667451095, 3799477506, 157146600, 3717470672, 89865758, 3815588203, 1929105788, 861643665, 684514017, 3519778437, 2712956097, 1004423983, 1540346552, 2617389519, 2754800020, 870994822, 1702399767, 3526294475, 3251290865, 2365820957, 1915675760, 1828371367, 3737352795, 2511512700, 1080446781, 2565191059, 2412448535, 3719988291, 1434643780, 4163492408, 1359345746, 1457543102, 2389534435, 2800945892, 2646700564, 1719588203, 999665519, 3120652917, 1800116770, 3247314137, 4261164550, 1503462948, 3017762189, 263481701, 1754772485, 869168639, 604192231, 498759780, 2602535702, 3346756344, 2836267314, 2073734260, 3445425559, 4051271696, 1647518162, 401835417, 1968629992, 2854677838, 2381566661, 3144829468, 519547510, 3058642603, 3944140819, 1248923220, 1050321901, 3218172519, 376999645, 184187381, 3837095155, 3363256702, 751966993, 3419533016, 4028456468, 1156797460]</span></span><br><span class="line"><span class="string">[3437104340, 508103176, 1635844121, 878522509, 1923790547, 1727955782, 1371509208, 3182873539, 156878129, 1757777801, 1472806960, 3486450735, 2307527058, 2950814692, 1817110380, 372493821, 729662950, 2366747255, 774823385, 387513980, 1444397883]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä»£ç <code>print([part ^ mt() for part in map(s2n, re.findall(&quot;.&#123;1,4&#125;&quot;, flag))])</code>è¿™è¡Œä»£ç ä¸­çš„<code>.&#123;1,4&#125;</code>å¯¹flagåšäº†åˆ‡å‰²å¤„ç†ï¼Œå››ä¸ªå­—ç¬¦åˆ†ä¸€ç»„ï¼Œå‰©ä¸‹çš„å¦‚æœä¸å°‘äº1ä¸ªå­—ç¬¦çš„å†é¢å¤–åˆ†ä¸€ç»„ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">flag=<span class="string">&#x27;flag&#123;randcrack_mt19937&#125;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">&quot;.&#123;1,4&#125;&quot;</span>, flag))</span><br><span class="line"><span class="comment">#[&#x27;flag&#x27;, &#x27;&#123;ran&#x27;, &#x27;dcra&#x27;, &#x27;ck_m&#x27;, &#x27;t199&#x27;, &#x27;37&#125;&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æ‰€ä»¥ä¹Ÿæ˜¯åŸºäºMT19937çš„ä¸€é“é¢˜ï¼Œä»–å·²ç»ç»™æˆ‘ä»¬ç”Ÿæˆäº†624ä¸ªéšæœºæ•°ï¼Œä¹‹åçš„éšæœºæ•°å’Œåˆ†å—çš„flagè¿›è¡Œäº†å¼‚æˆ–è¿ç®—ï¼Œæˆ‘ä»¬å¾—åˆ°ä¹‹åçš„éšæœºæ•°ä¹‹åç›´æ¥å¼‚æˆ–è¿ç®—å³å¯æ±‚å¾—flagï¼Œéå¸¸ç®€å•ï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> randcrack <span class="keyword">import</span> RandCrack</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">m=[<span class="number">888058162</span>, <span class="number">3094055443</span>, <span class="number">1404990361</span>, <span class="number">1012543603</span>, <span class="number">448723884</span>, <span class="number">2580444236</span>, <span class="number">201608779</span>, <span class="number">1062995809</span>, <span class="number">1348787313</span>, <span class="number">2980019361</span>, <span class="number">2245025385</span>, <span class="number">494977308</span>, <span class="number">4042503808</span>, <span class="number">275744301</span>, <span class="number">406611131</span>, <span class="number">142226472</span>, <span class="number">3871761759</span>, <span class="number">3888795536</span>, <span class="number">2617489687</span>, <span class="number">1220227074</span>, <span class="number">342928858</span>, <span class="number">3728958896</span>, <span class="number">1477077966</span>, <span class="number">1433151407</span>, <span class="number">1119405037</span>, <span class="number">330145973</span>, <span class="number">3547181160</span>, <span class="number">2123007249</span>, <span class="number">3739964132</span>, <span class="number">1794129718</span>, <span class="number">2739743522</span>, <span class="number">2291585121</span>, <span class="number">3013727731</span>, <span class="number">1536788463</span>, <span class="number">247633572</span>, <span class="number">408079265</span>, <span class="number">3025555185</span>, <span class="number">1604681922</span>, <span class="number">2848997116</span>, <span class="number">3646041955</span>, <span class="number">1059445774</span>, <span class="number">2849764176</span>, <span class="number">2638965889</span>, <span class="number">1232303180</span>, <span class="number">759521642</span>, <span class="number">2257008531</span>, <span class="number">3932082254</span>, <span class="number">1052428413</span>, <span class="number">4017559916</span>, <span class="number">3505694223</span>, <span class="number">1418363972</span>, <span class="number">477751107</span>, <span class="number">4266295945</span>, <span class="number">3832138928</span>, <span class="number">245251422</span>, <span class="number">1964323108</span>, <span class="number">2453472918</span>, <span class="number">3029032760</span>, <span class="number">323619451</span>, <span class="number">2548825339</span>, <span class="number">3410027991</span>, <span class="number">278143595</span>, <span class="number">816124107</span>, <span class="number">245705463</span>, <span class="number">4173686519</span>, <span class="number">4100831820</span>, <span class="number">3599257115</span>, <span class="number">2274885516</span>, <span class="number">3954736394</span>, <span class="number">198254482</span>, <span class="number">1050449178</span>, <span class="number">3933150558</span>, <span class="number">899220021</span>, <span class="number">597474632</span>, <span class="number">1823539097</span>, <span class="number">3340511318</span>, <span class="number">2144918682</span>, <span class="number">2310527451</span>, <span class="number">264391694</span>, <span class="number">69923676</span>, <span class="number">3266017310</span>, <span class="number">3199627722</span>, <span class="number">4035962745</span>, <span class="number">932969905</span>, <span class="number">2832951013</span>, <span class="number">2182887504</span>, <span class="number">1374919242</span>, <span class="number">2978944795</span>, <span class="number">1840647233</span>, <span class="number">3510878043</span>, <span class="number">3250544991</span>, <span class="number">4255542321</span>, <span class="number">804377010</span>, <span class="number">1286980519</span>, <span class="number">1980427321</span>, <span class="number">2893246724</span>, <span class="number">1745353148</span>, <span class="number">1406140332</span>, <span class="number">4101848568</span>, <span class="number">3227434698</span>, <span class="number">1869729934</span>, <span class="number">2638181242</span>, <span class="number">1270111849</span>, <span class="number">2387910792</span>, <span class="number">3411542702</span>, <span class="number">2793303435</span>, <span class="number">2455337459</span>, <span class="number">2802808043</span>, <span class="number">2418872990</span>, <span class="number">1043274549</span>, <span class="number">144911746</span>, <span class="number">2312236858</span>, <span class="number">780373658</span>, <span class="number">1527499811</span>, <span class="number">3402753408</span>, <span class="number">2617924770</span>, <span class="number">1659648360</span>, <span class="number">2714315441</span>, <span class="number">4202103851</span>, <span class="number">244677433</span>, <span class="number">1963258902</span>, <span class="number">3851363324</span>, <span class="number">3454195559</span>, <span class="number">813228826</span>, <span class="number">3944899734</span>, <span class="number">3697685234</span>, <span class="number">1613584167</span>, <span class="number">1874570879</span>, <span class="number">1592343033</span>, <span class="number">4194241173</span>, <span class="number">551902434</span>, <span class="number">3460909265</span>, <span class="number">4122075287</span>, <span class="number">176665387</span>, <span class="number">152849760</span>, <span class="number">3593212904</span>, <span class="number">952880017</span>, <span class="number">1793357635</span>, <span class="number">2052902220</span>, <span class="number">807859486</span>, <span class="number">334839380</span>, <span class="number">3485132343</span>, <span class="number">2113403566</span>, <span class="number">3259106798</span>, <span class="number">1443078482</span>, <span class="number">2434820318</span>, <span class="number">1347902400</span>, <span class="number">2344061487</span>, <span class="number">141766876</span>, <span class="number">2641586235</span>, <span class="number">287277458</span>, <span class="number">2385094526</span>, <span class="number">1510128758</span>, <span class="number">348957861</span>, <span class="number">2861038633</span>, <span class="number">1135611795</span>, <span class="number">4289024199</span>, <span class="number">1021202791</span>, <span class="number">2460872523</span>, <span class="number">3837050794</span>, <span class="number">4092005952</span>, <span class="number">52622948</span>, <span class="number">387056916</span>, <span class="number">3102913460</span>, <span class="number">4098715316</span>, <span class="number">154916530</span>, <span class="number">2890197932</span>, <span class="number">1441566957</span>, <span class="number">2368779800</span>, <span class="number">271808452</span>, <span class="number">3566810840</span>, <span class="number">2227022452</span>, <span class="number">316480679</span>, <span class="number">603893066</span>, <span class="number">2121889912</span>, <span class="number">4208763743</span>, <span class="number">3098334580</span>, <span class="number">721958838</span>, <span class="number">3848020801</span>, <span class="number">1029884135</span>, <span class="number">832405094</span>, <span class="number">2276817394</span>, <span class="number">981553190</span>, <span class="number">246940442</span>, <span class="number">1069231974</span>, <span class="number">3275216531</span>, <span class="number">58945988</span>, <span class="number">4100121200</span>, <span class="number">230446475</span>, <span class="number">2396021649</span>, <span class="number">4608139</span>, <span class="number">3468707911</span>, <span class="number">3249498323</span>, <span class="number">315898153</span>, <span class="number">3280797960</span>, <span class="number">388108494</span>, <span class="number">1110548082</span>, <span class="number">2357147660</span>, <span class="number">2336724751</span>, <span class="number">4047583630</span>, <span class="number">2108667879</span>, <span class="number">2784078579</span>, <span class="number">1170844412</span>, <span class="number">3920262445</span>, <span class="number">3564073655</span>, <span class="number">590490534</span>, <span class="number">1645945278</span>, <span class="number">2487463163</span>, <span class="number">434409966</span>, <span class="number">1563546251</span>, <span class="number">888601967</span>, <span class="number">1913513318</span>, <span class="number">1327448740</span>, <span class="number">2504517969</span>, <span class="number">304688984</span>, <span class="number">1443685450</span>, <span class="number">4040619940</span>, <span class="number">3601250858</span>, <span class="number">4097529433</span>, <span class="number">4260590151</span>, <span class="number">575843085</span>, <span class="number">1114360271</span>, <span class="number">2186035374</span>, <span class="number">2821388594</span>, <span class="number">3763206347</span>, <span class="number">4283149630</span>, <span class="number">4097168778</span>, <span class="number">1924538037</span>, <span class="number">3272064650</span>, <span class="number">1689166701</span>, <span class="number">1352331676</span>, <span class="number">520525342</span>, <span class="number">2954296222</span>, <span class="number">2629516330</span>, <span class="number">3674317458</span>, <span class="number">231784130</span>, <span class="number">1930132422</span>, <span class="number">4169222397</span>, <span class="number">1638784833</span>, <span class="number">1245667959</span>, <span class="number">1253759350</span>, <span class="number">1154928813</span>, <span class="number">66021172</span>, <span class="number">3217915692</span>, <span class="number">4159785573</span>, <span class="number">3798512628</span>, <span class="number">2945489695</span>, <span class="number">700725579</span>, <span class="number">3940231312</span>, <span class="number">1960713279</span>, <span class="number">3289722468</span>, <span class="number">2970919839</span>, <span class="number">1356139680</span>, <span class="number">1141841193</span>, <span class="number">629177162</span>, <span class="number">3696263539</span>, <span class="number">1084872874</span>, <span class="number">4294077062</span>, <span class="number">1115547807</span>, <span class="number">3421092527</span>, <span class="number">611575307</span>, <span class="number">7808529</span>, <span class="number">2784523837</span>, <span class="number">1267307982</span>, <span class="number">1538837032</span>, <span class="number">4038330055</span>, <span class="number">3262951566</span>, <span class="number">3139820067</span>, <span class="number">1249725729</span>, <span class="number">757191354</span>, <span class="number">3025188720</span>, <span class="number">291705345</span>, <span class="number">575676661</span>, <span class="number">3023956263</span>, <span class="number">1045504889</span>, <span class="number">205204207</span>, <span class="number">1777650027</span>, <span class="number">1956698897</span>, <span class="number">996147619</span>, <span class="number">1470431</span>, <span class="number">2275722398</span>, <span class="number">2666078800</span>, <span class="number">470333070</span>, <span class="number">1306693906</span>, <span class="number">2968672077</span>, <span class="number">2476023772</span>, <span class="number">2645573325</span>, <span class="number">3939390068</span>, <span class="number">2874886754</span>, <span class="number">4226430090</span>, <span class="number">2290851636</span>, <span class="number">3707585663</span>, <span class="number">109770347</span>, <span class="number">127373916</span>, <span class="number">815817847</span>, <span class="number">1565834917</span>, <span class="number">636869794</span>, <span class="number">4062053412</span>, <span class="number">583594822</span>, <span class="number">3782553071</span>, <span class="number">3293311273</span>, <span class="number">2801932604</span>, <span class="number">2647080862</span>, <span class="number">1514083254</span>, <span class="number">3534640458</span>, <span class="number">342361004</span>, <span class="number">3266111849</span>, <span class="number">2157351044</span>, <span class="number">1851728420</span>, <span class="number">3412596866</span>, <span class="number">2793236910</span>, <span class="number">3758306563</span>, <span class="number">1799548561</span>, <span class="number">952631672</span>, <span class="number">912455646</span>, <span class="number">2894404493</span>, <span class="number">2194084105</span>, <span class="number">119615608</span>, <span class="number">2071058651</span>, <span class="number">1524462411</span>, <span class="number">900936180</span>, <span class="number">3697554830</span>, <span class="number">3501838982</span>, <span class="number">2874465656</span>, <span class="number">2501478689</span>, <span class="number">1069024222</span>, <span class="number">3135689372</span>, <span class="number">1168458702</span>, <span class="number">1966524629</span>, <span class="number">36400028</span>, <span class="number">2704775319</span>, <span class="number">4030739700</span>, <span class="number">3985599923</span>, <span class="number">2778920518</span>, <span class="number">2669538325</span>, <span class="number">1951594393</span>, <span class="number">795749079</span>, <span class="number">665593501</span>, <span class="number">3007338649</span>, <span class="number">1535343068</span>, <span class="number">2031873237</span>, <span class="number">3202423789</span>, <span class="number">560224943</span>, <span class="number">1290838890</span>, <span class="number">2545130826</span>, <span class="number">695695377</span>, <span class="number">3048615291</span>, <span class="number">1957903923</span>, <span class="number">1986693779</span>, <span class="number">2594986519</span>, <span class="number">3396211122</span>, <span class="number">2625687092</span>, <span class="number">575329062</span>, <span class="number">2852671310</span>, <span class="number">3472799759</span>, <span class="number">715985207</span>, <span class="number">1660331651</span>, <span class="number">958648594</span>, <span class="number">305711662</span>, <span class="number">75621441</span>, <span class="number">548447557</span>, <span class="number">2473842353</span>, <span class="number">2110558182</span>, <span class="number">3321750402</span>, <span class="number">2415793078</span>, <span class="number">815198061</span>, <span class="number">1258834500</span>, <span class="number">972966677</span>, <span class="number">3267046345</span>, <span class="number">2923564883</span>, <span class="number">518207679</span>, <span class="number">1662309775</span>, <span class="number">278933232</span>, <span class="number">4294256390</span>, <span class="number">2444117793</span>, <span class="number">2241879973</span>, <span class="number">3915962245</span>, <span class="number">3836532482</span>, <span class="number">3449260219</span>, <span class="number">1092128833</span>, <span class="number">3177300913</span>, <span class="number">874588042</span>, <span class="number">1185436845</span>, <span class="number">2064537788</span>, <span class="number">364292705</span>, <span class="number">3802247898</span>, <span class="number">3122264959</span>, <span class="number">186651829</span>, <span class="number">2789447523</span>, <span class="number">797964681</span>, <span class="number">897671294</span>, <span class="number">1504956985</span>, <span class="number">2294012382</span>, <span class="number">3916152546</span>, <span class="number">177325516</span>, <span class="number">2741945226</span>, <span class="number">4188655695</span>, <span class="number">2738134558</span>, <span class="number">557326292</span>, <span class="number">1625014790</span>, <span class="number">2945266389</span>, <span class="number">1843516240</span>, <span class="number">644046640</span>, <span class="number">3853456819</span>, <span class="number">3456105042</span>, <span class="number">3467742754</span>, <span class="number">2885173326</span>, <span class="number">812088996</span>, <span class="number">1238970324</span>, <span class="number">766072156</span>, <span class="number">2675925963</span>, <span class="number">1667463511</span>, <span class="number">2808303112</span>, <span class="number">1638756770</span>, <span class="number">260047996</span>, <span class="number">1117661655</span>, <span class="number">346883777</span>, <span class="number">2268712532</span>, <span class="number">1904918136</span>, <span class="number">513102466</span>, <span class="number">1024624509</span>, <span class="number">2154277089</span>, <span class="number">4147814745</span>, <span class="number">3681688842</span>, <span class="number">2233642964</span>, <span class="number">3135674550</span>, <span class="number">1259551210</span>, <span class="number">3286048484</span>, <span class="number">4271168802</span>, <span class="number">4227197378</span>, <span class="number">3310884772</span>, <span class="number">2063705584</span>, <span class="number">791399172</span>, <span class="number">4069266828</span>, <span class="number">1511606526</span>, <span class="number">1047713396</span>, <span class="number">615906401</span>, <span class="number">2805111822</span>, <span class="number">499223767</span>, <span class="number">740832370</span>, <span class="number">351782725</span>, <span class="number">2258776891</span>, <span class="number">1837046713</span>, <span class="number">3969757168</span>, <span class="number">2873152110</span>, <span class="number">4214869805</span>, <span class="number">3416771254</span>, <span class="number">2527945969</span>, <span class="number">3279116532</span>, <span class="number">1217038009</span>, <span class="number">4014402228</span>, <span class="number">3696705795</span>, <span class="number">1877774112</span>, <span class="number">3928347956</span>, <span class="number">959715122</span>, <span class="number">1612979629</span>, <span class="number">4045688071</span>, <span class="number">2403021083</span>, <span class="number">424891533</span>, <span class="number">1887765641</span>, <span class="number">2090726432</span>, <span class="number">2897940431</span>, <span class="number">268403838</span>, <span class="number">3447542890</span>, <span class="number">575011346</span>, <span class="number">2559143209</span>, <span class="number">532649938</span>, <span class="number">3625398853</span>, <span class="number">2077769196</span>, <span class="number">1598653066</span>, <span class="number">3104923961</span>, <span class="number">3594500739</span>, <span class="number">675029389</span>, <span class="number">579180583</span>, <span class="number">2024117612</span>, <span class="number">1351780728</span>, <span class="number">654841863</span>, <span class="number">769835263</span>, <span class="number">1431012736</span>, <span class="number">2369300321</span>, <span class="number">4157341752</span>, <span class="number">1968305076</span>, <span class="number">2086919554</span>, <span class="number">3075265115</span>, <span class="number">2128974418</span>, <span class="number">3144501489</span>, <span class="number">3993066430</span>, <span class="number">1121959765</span>, <span class="number">1373765135</span>, <span class="number">4232964375</span>, <span class="number">2264170351</span>, <span class="number">11814235</span>, <span class="number">1797654983</span>, <span class="number">3382686935</span>, <span class="number">2541491040</span>, <span class="number">3540726136</span>, <span class="number">1330685654</span>, <span class="number">4123114026</span>, <span class="number">2521290625</span>, <span class="number">3357439706</span>, <span class="number">3331159097</span>, <span class="number">2298656231</span>, <span class="number">3446738535</span>, <span class="number">290996369</span>, <span class="number">3020977553</span>, <span class="number">849241175</span>, <span class="number">3469792522</span>, <span class="number">4119898263</span>, <span class="number">1339695718</span>, <span class="number">2125209134</span>, <span class="number">3620160106</span>, <span class="number">1063375386</span>, <span class="number">1656465852</span>, <span class="number">2505508266</span>, <span class="number">3958528861</span>, <span class="number">3497875682</span>, <span class="number">3112358345</span>, <span class="number">3675237811</span>, <span class="number">1109625127</span>, <span class="number">2672368219</span>, <span class="number">1983461371</span>, <span class="number">3579663373</span>, <span class="number">1969195060</span>, <span class="number">225618775</span>, <span class="number">653511251</span>, <span class="number">3508369415</span>, <span class="number">4127429853</span>, <span class="number">828877800</span>, <span class="number">4286770015</span>, <span class="number">1474706143</span>, <span class="number">870777512</span>, <span class="number">804917422</span>, <span class="number">3913439258</span>, <span class="number">2433991646</span>, <span class="number">2742831709</span>, <span class="number">4289045475</span>, <span class="number">2899508500</span>, <span class="number">185462457</span>, <span class="number">4178107803</span>, <span class="number">2671443073</span>, <span class="number">2701796854</span>, <span class="number">1170522896</span>, <span class="number">1599880638</span>, <span class="number">1410722361</span>, <span class="number">3977867960</span>, <span class="number">1263177666</span>, <span class="number">2159508450</span>, <span class="number">2704509681</span>, <span class="number">1540819416</span>, <span class="number">1836499452</span>, <span class="number">1667451095</span>, <span class="number">3799477506</span>, <span class="number">157146600</span>, <span class="number">3717470672</span>, <span class="number">89865758</span>, <span class="number">3815588203</span>, <span class="number">1929105788</span>, <span class="number">861643665</span>, <span class="number">684514017</span>, <span class="number">3519778437</span>, <span class="number">2712956097</span>, <span class="number">1004423983</span>, <span class="number">1540346552</span>, <span class="number">2617389519</span>, <span class="number">2754800020</span>, <span class="number">870994822</span>, <span class="number">1702399767</span>, <span class="number">3526294475</span>, <span class="number">3251290865</span>, <span class="number">2365820957</span>, <span class="number">1915675760</span>, <span class="number">1828371367</span>, <span class="number">3737352795</span>, <span class="number">2511512700</span>, <span class="number">1080446781</span>, <span class="number">2565191059</span>, <span class="number">2412448535</span>, <span class="number">3719988291</span>, <span class="number">1434643780</span>, <span class="number">4163492408</span>, <span class="number">1359345746</span>, <span class="number">1457543102</span>, <span class="number">2389534435</span>, <span class="number">2800945892</span>, <span class="number">2646700564</span>, <span class="number">1719588203</span>, <span class="number">999665519</span>, <span class="number">3120652917</span>, <span class="number">1800116770</span>, <span class="number">3247314137</span>, <span class="number">4261164550</span>, <span class="number">1503462948</span>, <span class="number">3017762189</span>, <span class="number">263481701</span>, <span class="number">1754772485</span>, <span class="number">869168639</span>, <span class="number">604192231</span>, <span class="number">498759780</span>, <span class="number">2602535702</span>, <span class="number">3346756344</span>, <span class="number">2836267314</span>, <span class="number">2073734260</span>, <span class="number">3445425559</span>, <span class="number">4051271696</span>, <span class="number">1647518162</span>, <span class="number">401835417</span>, <span class="number">1968629992</span>, <span class="number">2854677838</span>, <span class="number">2381566661</span>, <span class="number">3144829468</span>, <span class="number">519547510</span>, <span class="number">3058642603</span>, <span class="number">3944140819</span>, <span class="number">1248923220</span>, <span class="number">1050321901</span>, <span class="number">3218172519</span>, <span class="number">376999645</span>, <span class="number">184187381</span>, <span class="number">3837095155</span>, <span class="number">3363256702</span>, <span class="number">751966993</span>, <span class="number">3419533016</span>, <span class="number">4028456468</span>, <span class="number">1156797460</span>]</span><br><span class="line">c=[<span class="number">3437104340</span>, <span class="number">508103176</span>, <span class="number">1635844121</span>, <span class="number">878522509</span>, <span class="number">1923790547</span>, <span class="number">1727955782</span>, <span class="number">1371509208</span>, <span class="number">3182873539</span>, <span class="number">156878129</span>, <span class="number">1757777801</span>, <span class="number">1472806960</span>, <span class="number">3486450735</span>, <span class="number">2307527058</span>, <span class="number">2950814692</span>, <span class="number">1817110380</span>, <span class="number">372493821</span>, <span class="number">729662950</span>, <span class="number">2366747255</span>, <span class="number">774823385</span>, <span class="number">387513980</span>, <span class="number">1444397883</span>]</span><br><span class="line"></span><br><span class="line">r = RandCrack()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> m:</span><br><span class="line">    r.submit(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> c:</span><br><span class="line">    <span class="built_in">print</span>(long_to_bytes(i^r.predict_getrandbits(<span class="number">32</span>)).decode(),end=<span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="HNCTF-2022-WEEK4-random"><a href="#HNCTF-2022-WEEK4-random" class="headerlink" title="[HNCTF 2022 WEEK4]random"></a>[HNCTF 2022 WEEK4]random</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> flag <span class="keyword">import</span> flag</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.Padding <span class="keyword">import</span> pad</span><br><span class="line"></span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&#x27;output.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">666</span>):</span><br><span class="line">    f.write(<span class="string">f&#x27;<span class="subst">&#123;getrandbits(<span class="number">32</span>)&#125;</span>\n&#x27;</span>)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">r = getrandbits(<span class="number">32</span>)</span><br><span class="line">key = <span class="built_in">bytes</span>.fromhex(<span class="built_in">hex</span>(r)[<span class="number">2</span>:])</span><br><span class="line">key = md5(key).digest()</span><br><span class="line">cipher = AES.new(key,AES.MODE_CBC)</span><br><span class="line">c = cipher.encrypt(pad(flag,<span class="number">16</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;c = \&#x27;<span class="subst">&#123;cipher.iv.<span class="built_in">hex</span>() + c.<span class="built_in">hex</span>()&#125;</span>\&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#c = &#x27;91fd1824ddc0a35e845e87f59e53a103334df418e6a65a7d7769699c3ca2119019361cd23a46a61d4e7f6cdff5f5200f586f90b66eabfd8ecff4ddf11ee444d37f80ada0bbe8af09e4fc32c1a51e3f29e2771b51c71d2ba4acb84fda61904b96&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜ç”¨äº†AES-CBCåŠ å¯†ï¼Œéœ€è¦ç”¨éšæœºæ•°é¢„æµ‹å¾—åˆ°keyè¿›è¡Œè§£å¯†ï¼Œç»™äº†666ä¸ªæ•°ï¼Œç”¨ä¸ç€é‚£ä¹ˆå¤šï¼Œçœå»å‰é¢ä¸€éƒ¨åˆ†å³å¯ï¼Œè¿˜æ˜¯ç”¨randcrackï¼š</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> randcrack <span class="keyword">import</span> RandCrack</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> md5</span><br><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.Padding <span class="keyword">import</span> pad</span><br><span class="line"><span class="keyword">from</span> Crypto.Util.number <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;output.txt&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f=f.readlines()</span><br><span class="line">    num=[<span class="built_in">int</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> f]</span><br><span class="line">    r = RandCrack()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">666</span>-<span class="number">624</span>,<span class="number">666</span>):</span><br><span class="line">        r.submit(num[i])</span><br><span class="line">    k = r.predict_getrandbits(<span class="number">32</span>)</span><br><span class="line">    key = <span class="built_in">bytes</span>.fromhex(<span class="built_in">hex</span>(k)[<span class="number">2</span>:])</span><br><span class="line">    key = md5(key).digest()</span><br><span class="line">    iv=long_to_bytes(<span class="number">0x91fd1824ddc0a35e845e87f59e53a103</span>)</span><br><span class="line">    cipher = AES.new(key,AES.MODE_CBC,iv)</span><br><span class="line">    c=long_to_bytes(<span class="number">0x334df418e6a65a7d7769699c3ca2119019361cd23a46a61d4e7f6cdff5f5200f586f90b66eabfd8ecff4ddf11ee444d37f80ada0bbe8af09e4fc32c1a51e3f29e2771b51c71d2ba4acb84fda61904b96</span>)</span><br><span class="line">    flag = cipher.decrypt(pad(c,<span class="number">16</span>))</span><br><span class="line">    <span class="built_in">print</span>(flag)</span><br></pre></td></tr></table></figure>
</article><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2023/03/26/%E5%91%A8%E5%88%86%E4%BA%AB1%EF%BC%9AMT19937/"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=undefined&amp;url=http://example.com/2023/03/26/%E5%91%A8%E5%88%86%E4%BA%AB1%EF%BC%9AMT19937/&amp;pic=undefined" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E9%9A%8F%E6%9C%BA%E6%95%B0/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>éšæœºæ•°<span class="tagsPageCount">3</span></a></div></div></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/03/13/NSSCTF%E9%A2%98%E8%A7%A3%EF%BC%88%E4%B8%80%EF%BC%89/"><img class="prev-cover" src="https://s2.loli.net/2023/03/17/1hDecotwCpH3rT7.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">NSSCTFé¢˜è§£ï¼ˆä¸€ï¼‰</div></div></a></div><div class="next-post pull-right"><a href="/2023/03/28/%E6%A0%BC%E5%AF%86%E7%A0%81/"><img class="next-cover" src="https://s2.loli.net/2023/03/28/CdAzsZS6GOW2emQ.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">æ ¼å¯†ç </div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2023/04/10/%E6%A0%A1%E8%B5%9B%E6%84%9F%E6%82%9F%E5%92%8C%E4%B8%A4%E9%81%93%E9%9A%BE%E9%A2%98/" title="æ ¡èµ›æ„Ÿæ‚Ÿå’Œä¸¤é“éš¾é¢˜"><img class="cover" src="https://s2.loli.net/2023/04/10/E9XyMn7s2ODcb8d.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-10</div><div class="title">æ ¡èµ›æ„Ÿæ‚Ÿå’Œä¸¤é“éš¾é¢˜</div></div></a></div><div><a href="/2023/01/13/%E6%B5%81%E5%AF%86%E7%A0%81%E7%AE%80%E4%BB%8B/" title="æµå¯†ç ç®€ä»‹"><img class="cover" src="https://s2.loli.net/2023/01/29/QYxWq2JC9Rb5A4k.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-01-13</div><div class="title">æµå¯†ç ç®€ä»‹</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> è¯„è®º</span></div><div class="comment-randomInfo" style="display: none"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">åŒ¿åè¯„è®º</a></div><div class="comment-tips" id="comment-tips"><span>ä½ æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¯„è®ºä»¥è·å–æœ€ä½³å±•ç¤ºæ•ˆæœ</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div><div class="comment-barrage"></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MT19937%E7%AE%97%E6%B3%95"><span class="toc-text">MT19937ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%94%9F%E6%88%90%E6%96%B9%E5%BC%8F"><span class="toc-text">éšæœºæ•°ç”Ÿæˆæ–¹å¼</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#GKCTF-2021-Random"><span class="toc-text">[GKCTF 2021]Random</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HGAME-2022-week4-PRNG"><span class="toc-text">[HGAME 2022 week4]PRNG</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HNCTF-2022-WEEK4-random"><span class="toc-text">[HNCTF 2022 WEEK4]random</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Chemtrails</div><div class="footer_custom_text"><a href="https://beian.miit.gov.cn/#/Integrated/index" style="color:var(--anzhiyu-fontcolor)" target="_blank">é²ICPå¤‡2022041228å·</a></div></div></footer><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" src="https://ch3mtr4ils.cn/img/tit.png"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>const loadingPercentage = document.getElementById("loading-percentage");
let loadingPercentageTimer = setInterval(function() {
  var progressBar = document.querySelector(".pace-progress");
  if (!progressBar) return
  var currentValue = progressBar.getAttribute("data-progress-text");
  if (currentValue !== loadingPercentage.textContent) {
    loadingPercentage.textContent = currentValue;
    if (currentValue === "100%") {
      clearInterval(loadingPercentageTimer);
    }
  }
}, 100);
const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://npm.elemecdn.com/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ch3mtr4ils.cn/img/tit.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">67</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">32</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> å½’æ¡£</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child" style="left:17px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch_commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="å¼€å…³å¼¹å¹•"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="center-console" type="button" title="ä¸­æ§å°"><i class="anzhiyufont anzhiyu-icon-fish"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><div id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()">æ’­æ”¾éŸ³ä¹</div><div id="console-music-bg"></div><meting-js id="2987103132" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="console"><div class="close-btn" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-xmark" style="font-size: 35px;"></i></div><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="anzhiyu.hideConsole()"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> <span>æœ€æ–°è¯„è®º</span></span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="anzhiyu.hideConsole()"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AES/" style="font-size: 1.25em; color: rgb(171, 5, 118)">AES<sup>3</sup></a><a href="/tags/DES/" style="font-size: 1.15em; color: rgb(17, 195, 13)">DES<sup>1</sup></a><a href="/tags/Diffie-Hellman/" style="font-size: 1.15em; color: rgb(186, 92, 198)">Diffie-Hellman<sup>1</sup></a><a href="/tags/ECC/" style="font-size: 1.35em; color: rgb(95, 33, 142)">ECC<sup>6</sup></a><a href="/tags/ElGamal/" style="font-size: 1.15em; color: rgb(164, 47, 68)">ElGamal<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.15em; color: rgb(53, 38, 93)">HTML<sup>1</sup></a><a href="/tags/JS/" style="font-size: 1.15em; color: rgb(95, 18, 6)">JS<sup>1</sup></a><a href="/tags/JWT/" style="font-size: 1.15em; color: rgb(21, 199, 72)">JWT<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.2em; color: rgb(173, 36, 61)">Java<sup>2</sup></a><a href="/tags/RSA/" style="font-size: 1.45em; color: rgb(184, 160, 114)">RSA<sup>22</sup></a><a href="/tags/css/" style="font-size: 1.2em; color: rgb(184, 100, 135)">css<sup>2</sup></a><a href="/tags/git/" style="font-size: 1.15em; color: rgb(178, 110, 189)">git<sup>1</sup></a><a href="/tags/linux/" style="font-size: 1.15em; color: rgb(124, 66, 33)">linux<sup>1</sup></a><a href="/tags/paper/" style="font-size: 1.15em; color: rgb(46, 161, 57)">paper<sup>1</sup></a><a href="/tags/python/" style="font-size: 1.25em; color: rgb(40, 106, 48)">python<sup>3</sup></a><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 1.15em; color: rgb(22, 182, 174)">åŒºå—é“¾<sup>1</sup></a><a href="/tags/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/" style="font-size: 1.3em; color: rgb(93, 131, 137)">å¤å…¸å¯†ç <sup>5</sup></a><a href="/tags/%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/" style="font-size: 1.15em; color: rgb(110, 64, 184)">å“ˆå¸Œå‡½æ•°<sup>1</sup></a><a href="/tags/%E5%9B%BE%E7%89%87%E5%88%86%E6%9E%90/" style="font-size: 1.3em; color: rgb(86, 29, 197)">å›¾ç‰‡åˆ†æ<sup>5</sup></a><a href="/tags/%E5%9B%BE%E7%89%87%E9%9A%90%E5%86%99/" style="font-size: 1.3em; color: rgb(129, 61, 174)">å›¾ç‰‡éšå†™<sup>5</sup></a><a href="/tags/%E6%8A%BD%E8%B1%A1%E4%BB%A3%E6%95%B0/" style="font-size: 1.25em; color: rgb(166, 16, 0)">æŠ½è±¡ä»£æ•°<sup>3</sup></a><a href="/tags/%E6%95%B0%E8%AE%BA/" style="font-size: 1.3em; color: rgb(116, 124, 69)">æ•°è®º<sup>5</sup></a><a href="/tags/%E6%A0%88%E6%BA%A2%E5%87%BA/" style="font-size: 1.15em; color: rgb(60, 9, 111)">æ ˆæº¢å‡º<sup>1</sup></a><a href="/tags/%E6%A0%BC/" style="font-size: 1.4em; color: rgb(96, 26, 146)">æ ¼<sup>8</sup></a><a href="/tags/%E6%B1%87%E7%BC%96/" style="font-size: 1.2em; color: rgb(37, 22, 188)">æ±‡ç¼–<sup>2</sup></a><a href="/tags/%E6%B5%81%E5%AF%86%E7%A0%81/" style="font-size: 1.35em; color: rgb(27, 150, 61)">æµå¯†ç <sup>6</sup></a><a href="/tags/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/" style="font-size: 1.2em; color: rgb(110, 139, 93)">æµé‡åˆ†æ<sup>2</sup></a><a href="/tags/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/" style="font-size: 1.2em; color: rgb(99, 140, 188)">çº¿æ€§ä»£æ•°<sup>2</sup></a><a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 1.35em; color: rgb(81, 141, 196)">ç¼–ç <sup>6</sup></a><a href="/tags/%E8%83%8C%E5%8C%85%E5%AF%86%E7%A0%81/" style="font-size: 1.15em; color: rgb(51, 8, 166)">èƒŒåŒ…å¯†ç <sup>1</sup></a><a href="/tags/%E9%80%86%E5%90%91/" style="font-size: 1.25em; color: rgb(109, 49, 114)">é€†å‘<sup>3</sup></a><a href="/tags/%E9%9A%8F%E6%9C%BA%E6%95%B0/" style="font-size: 1.25em; color: rgb(36, 182, 35)">éšæœºæ•°<sup>3</sup></a></div></div><hr/></div></div><div class="console-card history" onclick="anzhiyu.hideConsole()"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span><a class="card-more-btn" href="/archives/" title="æŸ¥çœ‹æ›´å¤š">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">äºŒæœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">ä¸€æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">åä¸€æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">åæœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">ä¹æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">å…«æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">å…­æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="rm.switchDarkMode()" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/my/m/music/playlist?id=2987103132&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.1.7/source/js/utils.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.1.7/source/js/main.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.1.7/source/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@4.0.31/dist/fancybox.umd.js"></script><script src="https://npm.elemecdn.com/instant.page@5.1.1/instantpage.js" type="module"></script><script src="https://npm.elemecdn.com/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="https://npm.elemecdn.com/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// æ¶ˆé™¤æ§åˆ¶å°æ‰“å°
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  console.log(1)
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //åœ¨æ¢å¤å‰è¾“å‡ºæ—¥å¿—
  const grt = new Date("11/4/2022 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `æ­£åœ¨çœ‹ç½‘ç«™çš„ä½ !`,
    `æˆ‘çš„ç½‘ç«™`,
    "å·²ä¸Šçº¿",
    dnum,
    "å¤©",
    "Â©2022 By Chemtrails",
  ];
  const ascll2 = [`HELLO`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.`, `ç…§ç‰‡æ•è·: `, `ğŸ¤ª`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹ï¼Œä½ å·²æ‰“å¼€æ§åˆ¶å°ã€‚", "color:white; background-color:#4f90d9", ""));
  setTimeout(Log.bind(console, "%c âš¡ Powered by Chemtrails %c ä½ æ­£åœ¨è®¿é—® Chemtrails çš„åšå®¢ã€‚", "color:white; background-color:#f0ad4e", ""));

});</script><script async src="/anzhiyu/random.js"></script><script src="https://npm.elemecdn.com/hexo-theme-anzhiyu@1.1.7/source/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://npm.elemecdn.com/mathjax@3.2.2/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.ch3mtr4ils.cn/',
      region: '',
      onCommentLoaded: function () {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.ch3mtr4ils.cn/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://npm.elemecdn.com/twikoo@1.6.11/dist/twikoo.all.min.js').then(runFn)
  }
  if ('Twikoo' === 'Twikoo' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.ch3mtr4ils.cn/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://npm.elemecdn.com/twikoo@1.6.11/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick}</span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/catalog-bar/catalog-bar.js"></script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/categoryBar/categoryBar.js"></script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// åˆå§‹åŒ–å‡½æ•°
let rm = {};

//ç¦æ­¢å›¾ç‰‡æ‹–æ‹½
let imgElements = document.getElementsByTagName("img");
for (let i = 0; i < imgElements.length; i++) {
  imgElements[i].addEventListener("dragstart", function (event) {
    event.preventDefault();
  });
}

// æ˜¾ç¤ºèœå•
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// éšè—èœå•
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// å°ºå¯¸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// é‡æ–°å®šä¹‰å°ºå¯¸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // è·å–å®½åº¦å’Œé«˜åº¦
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// è·å–ç‚¹å‡»çš„href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

// ç›‘å¬å³é”®åˆå§‹åŒ–
window.oncontextmenu = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š
    let pageY = event.clientY;

    //å…¶ä»–é¢å¤–èœå•
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–é ä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// ä¸‹è½½å›¾ç‰‡çŠ¶æ€
rm.downloadimging = false;

// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿
rm.writeClipImg = function (imgsrc) {
  console.log("æŒ‰ä¸‹å¤åˆ¶");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.switchDarkMode = function () {
  // Switch Between Light And Dark Mode
  const nowMode = document.documentElement.getAttribute("data-theme") === "dark" ? "dark" : "light";
  if (nowMode === "light") {
    activateDarkMode();
    saveToLocal.set("theme", "dark", 2);
    GLOBAL_CONFIG.Snackbar !== undefined && anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night);
    document.querySelector(".menu-darkmode-text").textContent = "æµ…è‰²æ¨¡å¼";
  } else {
    activateLightMode();
    saveToLocal.set("theme", "light", 2);
    GLOBAL_CONFIG.Snackbar !== undefined && anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day);
    document.querySelector(".menu-darkmode-text").textContent = "æ·±è‰²æ¨¡å¼";
  }
  // handle some cases
  typeof runMermaid === "function" && window.runMermaid();
  rm.hideRightMenu();
  anzhiyu.darkModeStatus();
};

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      false
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      false
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function () {
  var url = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶æœ¬é¡µé“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶æœ¬é¡µé“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// è¯»å–å‰ªåˆ‡æ¿
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//ç²˜è´´æ–‡æœ¬
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//å¼•ç”¨åˆ°è¯„è®º
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "å¥½æ£’ï¼";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//æ›¿æ¢æ‰€æœ‰å†…å®¹
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// ç™¾åº¦æœç´¢
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("å³å°†è·³è½¬åˆ°ç™¾åº¦æœç´¢", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//åˆ†äº«é“¾æ¥
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("å·²å¤åˆ¶é“¾æ¥åœ°å€");
};

function addRightMenuClickEvent() {
  // æ·»åŠ ç‚¹å‡»äº‹ä»¶
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", rm.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref);
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc);
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //éŸ³ä¹
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// å·²éšæœºçš„æ­Œæ›²
var selectRandomSong = [];
// éŸ³ä¹é»˜è®¤å£°éŸ³å¤§å°
var musicVolume = 0.8;
// æ˜¯å¦åˆ‡æ¢äº†å‘¨æ°ä¼¦éŸ³ä¹åˆ—è¡¨
var changeMusicListFlag = false;
// å½“å‰é»˜è®¤æ’­æ”¾åˆ—è¡¨
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | å®‰çŸ¥é±¼")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();

anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);</script><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.6/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://npm.elemecdn.com/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)
  window.anzhiyuScrollFnToDo && window.removeEventListener('scroll', anzhiyuScrollFnToDo)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>